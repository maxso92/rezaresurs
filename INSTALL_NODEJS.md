# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ npm –Ω–∞ Ubuntu 24.04

## –ü—Ä–æ–±–ª–µ–º–∞
```
npm: command not found
```

---

## –†–µ—à–µ–Ω–∏–µ: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∏ npm

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ NodeSource (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é Node.js:

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
apt-get update

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
apt-get install -y ca-certificates curl gnupg

# 3. –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π NodeSource –¥–ª—è Node.js 20.x (LTS)
mkdir -p /etc/apt/keyrings
curl -fsSL https://deb.nodesource.com/gpgkey/nodesource-repo.gpg.key | gpg --dearmor -o /etc/apt/keyrings/nodesource.gpg

echo "deb [signed-by=/etc/apt/keyrings/nodesource.gpg] https://deb.nodesource.com/node_20.x nodistro main" | tee /etc/apt/sources.list.d/nodesource.list

# 4. –û–±–Ω–æ–≤–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
apt-get update

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js (–≤–º–µ—Å—Ç–µ —Å npm)
apt-get install -y nodejs

# 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
node --version
npm --version
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Ubuntu

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø–∞–∫–µ—Ç–æ–≤
apt-get update

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js –∏ npm
apt-get install -y nodejs npm

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏
node --version
npm --version

# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í Ubuntu 24.04 –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è Node.js
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ NVM (Node Version Manager) - –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ Node.js:

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ NVM
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# 2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js LTS
nvm install --lts
nvm use --lts

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
node --version
npm --version
```

---

## –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 1)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js 20.x —á–µ—Ä–µ–∑ NodeSource
apt-get update
apt-get install -y ca-certificates curl gnupg

# –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
curl -fsSL https://deb.nodesource.com/setup_20.x | bash -

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js
apt-get install -y nodejs

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
node --version
npm --version
```

---

## –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏: –ó–∞–ø—É—Å–∫ npm install –∏ build

```bash
cd /var/www/rezaresurs_r_usr/data/www/rezaresurs.ru

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –°–æ–±–µ—Ä–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
npm run build

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
chown -R www-data:www-data public/build
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏
node --version  # –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å v20.x.x –∏–ª–∏ –≤—ã—à–µ
npm --version   # –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å 10.x.x –∏–ª–∏ –≤—ã—à–µ

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–¥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
which node
which npm
```

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è Node.js

–ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è —á–µ—Ä–µ–∑ apt:

```bash
# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
apt-get remove -y nodejs npm

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–µ—Ä–µ–∑ NodeSource (–í–∞—Ä–∏–∞–Ω—Ç 1 –≤—ã—à–µ)
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: npm –Ω–µ –Ω–∞–π–¥–µ–Ω –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ PATH
export PATH=$PATH:/usr/bin

# –ò–ª–∏ –ø–µ—Ä–µ–∑–∞–π–¥–∏—Ç–µ –≤ SSH —Å–µ—Å—Å–∏—é
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–¥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω npm
which npm
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –û—à–∏–±–∫–∏ –ø—Ä–∏ npm install

```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à npm
npm cache clean --force

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
ls -la /var/www/rezaresurs_r_usr/data/www/rezaresurs.ru

# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å
```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –û—à–∏–±–∫–∞ EACCES (–ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞)

```bash
# –ò–∑–º–µ–Ω–∏—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ .npm –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
mkdir -p ~/.npm-global
npm config set prefix '~/.npm-global'
export PATH=~/.npm-global/bin:$PATH

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã —Å sudo (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```

---

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Node.js –∏ npm

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ npm –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
npm install -g npm@latest

# –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Node.js —á–µ—Ä–µ–∑ NodeSource:
# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—É—é —á–µ—Ä–µ–∑ –í–∞—Ä–∏–∞–Ω—Ç 1
```

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- Node.js 20.x (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è LTS)
- npm (–æ–±—ã—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å Node.js)

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤–µ—Ä—Å–∏–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã:

```bash
node --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 20.0.0
npm --version   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 10.0.0
```

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ FastPanel

–ï—Å–ª–∏ FastPanel –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É Node.js:

1. –ó–∞–π–¥–∏—Ç–µ –≤ FastPanel
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "Node.js" –∏–ª–∏ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ü–û"
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞–Ω–µ–ª–∏

–ù–æ –æ–±—ã—á–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ NodeSource (–í–∞—Ä–∏–∞–Ω—Ç 1) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏.

---

## –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cd /var/www/rezaresurs_r_usr/data/www/rezaresurs.ru

# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 2. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
npm run build

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã
ls -la public/build/

# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞
WEB_USER="www-data"
chown -R $WEB_USER:$WEB_USER public/build
```

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å npm –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å. üöÄ

